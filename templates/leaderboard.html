{% extends "base.html" %}
{% block title %}Leaderboard Â· Paper Trader{% endblock %}

{% block content %}
  <div class="card">
    <h2>Leaderboard (Total PnL)</h2>

    {% if leaderboard %}
      <table class="table">
        <thead>
          <tr>
            <th>Rank</th>
            <th>User</th>
            <th>Total PnL</th>
          </tr>
        </thead>
        <tbody>
          {% for row in leaderboard %}
            <tr {% if row.is_current %}style="font-weight: bold;"{% endif %}>
              <td>#{{ row.rank }}</td>
              <td>{{ row.username }}</td>
              <td>
                {% if row.pnl >= 0 %}
                  +${{ "%.2f"|format(row.pnl) }}
                {% else %}
                  -${{ "%.2f"|format(row.pnl|abs) }}
                {% endif %}
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <p>No users / PnL data yet.</p>
    {% endif %}
  </div>

   <style>
    body {
      font-family: system-ui, sans-serif;
      margin: 0;
      background: linear-gradient(90deg, #f0f4ff, #306e8b);
      color: #333;
    }

    h2 {
      margin-bottom: 1rem;
      font-weight: 600;
      color: #222;
    }

    /* Card styling */
    .card {
      background: linear-gradient(180deg, #f0f4ff, #d7f2ff);
      border: 1.5px solid #000000;
      border-radius: 12px;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    }

    /* Leaderboard table */
    .leaderboard-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.95rem;
    }

    .leaderboard-table th,
    .leaderboard-table td {
      padding: 0.75rem 1rem;
      border-bottom: 1px solid #ddd;
      text-align: left;
    }

    .leaderboard-table th {
      background: #f0f4f8;
      font-weight: 600;
      color: #222;
    }

    .leaderboard-table tr:hover {
      background: #f9fbfd;
    }

    /* Highlight current user row */
    .leaderboard-table .current-user {
      font-weight: 700;
      background: #eef6ff;
    }
  </style>

{% endblock %}
